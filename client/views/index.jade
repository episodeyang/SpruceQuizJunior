!!! 5
html(lang='zh', data-ng-app='SpruceQuizApp')
     head
         meta(charset='utf-8')
         title 云杉习题-新一代学习管理平台
         script(src="/js/jquery/jquery.js")
         script(src="/js/select2/select2.js")
         script(src="/js/angular/angular.js")
         script(src="/js/angular-ui/ui-bootstrap-tpls-0.4.0.min.js")
         script(src="/js/angular-ui-select2/src/select2.js")
         link(href='/css/bootstrap-combined.no-icons.min.css',
                 rel="stylesheet")
         link(href="/font/font-awesome.min.css", rel="stylesheet")
         link(href='/css/app.css', rel="stylesheet")
         link(href='/css/report.css', rel="stylesheet")
         link(rel='stylesheet', href='/js/select2/select2.css')


         // This is needed because Facebook login redirects add #_=_ at the end of the URL

         script(type="text/javascript").
                 if (window.location.href.indexOf('#_=_') > 0) {
                     window.location = window.location.href.replace(/#.*/, '');
                 }
     body(data-ng-controller="AppCtrl", data-ng-cloak)
         #cover(data-ng-hide="appInitialized", data-ng-animate="{ hide: 'fade-hide' }")
         div.sp-container
             .navbar
                 .navbar-inner
                     ul.nav
                         li(data-access-level='{{ accessLevels.anon }}', active-nav)
                             a(href='/login') 欢迎
                         li(data-access-level='{{ accessLevels.anon }}', active-nav)
                             a(href='/register') 注册
                         li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                             a(href='/') 首页
                         //-li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                             a(href='/private') Private
                         //-li(data-access-level='{{ accessLevels.superuser }}', active-nav)
                             a(href='/admin') Admin
                         li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                             a(href='/sections') 课程
                         li(data-access-level='{{ accessLevels.superuser }}', active-nav)
                             a(href='/admin') 学生管理
                         li(data-access-level='{{ accessLevels.loggedin}}', active-nav).dropdown
                             a.dropdown-toggle 问答
                                 span.caret
                             ul.dropdown-menu
                                 li(data-access-level="{{accessLevels.superuser}}")
                                     a(href='/problems/edit') 编辑问题
                                 li
                                     a(href='/problems') 问题
                                 li
                                     a(href='/quizzes') 测试
                         li(data-access-level='{{ accessLevels.superuser }}', active-nav)
                             a(href='/reports') 成绩和报告
                         //-li(data-access-level='{{ accessLevels.loggedin }}')
                             a(href="", data-ng-click="logout()")
                                 | Log out
                     div
                         p
                     div.pull-right.dropdown(data-access-level='{{accessLevels.loggedin}}')
                         a.dropdown-toggle {{ user.username }}
                             span.caret
                         ul.dropdown-menu
                             li
                                 a(href="", data-ng-click="logout()")
                                     | 登出
             div.sp-body
                 .container-fluid
                     div(data-ng-view='ng-view')
             div.footer
                 .container.text-center(style="padding-top: 30px")
                     p &copy;
                         a(href="http://www.sprucelearning.com") SpruceLearning
                         | &nbsp; 2013
             //-script(src='/js/widgets.js')
         script(src='js/lib/underscore-min.js')
         script(src='js/lib/angular-underscore.js')
         //-this is just an adapter, not the lib itself.
         script(src='js/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML')
         script(src='js/lib/angular-cookies.js')
         script(src="js/lib/angular-resource.js")
         script(src='/js/routingConfig.js')
         script(src='/js/app.js')
         script(src='/js/services.js')
         script(src='/js/controllers.js')
         script(src='/js/controllers/problems.js')
         script(src='/js/controllers/problems_edit.js')
         script(src='/js/controllers/reports.js')
         script(src='/js/controllers/sections.js')
         script(src='/js/controllers/admin.js')
         script(src='/js/controllers/home.js')
         script(src='/js/controllers/reports_viz_ctrl.js')
         script(src='/js/filters.js')
         script(src='/js/directives.js')
         script(src='/js/lib/d3.v3.min.js')
         script(src='/js/directives/d3/reports_viz.js')


