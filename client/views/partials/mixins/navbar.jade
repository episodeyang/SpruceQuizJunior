//- Created by: Ge
//- Date: 10/23/13 6:48 AM

mixin navbar
    nav.navbar.navbar-inverse.navbar-fixed-top(id='navbar', role='banner', ng-controller="NavbarCtrl")
        //Brand and toggle get grouped for better mobile display
        .container
            .navbar-header
                button.navbar-toggle(type='button', data-toggle="collapse", data-target='#navbar', ng-click='isCollapsed = !isCollapsed')
                    span.sr-only Toggle navigation
                    span.icon-bar
                    span.icon-bar
                    span.icon-bar
                a.navbar-brand(href='/') {{orgTitle}} 难题夹子
            //Collect the nav links, forms, and other content for toggling
            //.collapse.navbar-collapse.navbar-ex1-collapse
            .visible-xs(collapse='!isCollapsed')
                ul.nav.navbar-nav
                    li(data-access-level='{{ accessLevels.superadmin }}', active-nav,ng-show='isCollapsed')
                        a(href='/development', ng-click='isCollapsed=!isCollapsed') 开发
                    li(data-access-level='{{ accessLevels.loggedin}}', active-nav,ng-show='isCollapsed')
                        a(data-ng-click="logout()")
                            | 登出
            .hidden-xs
                ul.nav.navbar-nav
                    li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                        a(href='/homePage')
                            span.glyphicon.glyphicon-inbox
                    li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                        a(href='/homePage')
                            span.glyphicon.glyphicon-stats
                    li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                        a(href='/homePage')
                            span.glyphicon.glyphicon-folder-open
                    li(data-access-level='{{ accessLevels.superadmin }}', active-nav)
                        a(href='/superadmin') 后台管理
                    li(data-access-level='{{ accessLevels.superadmin }}', active-nav)
                        a(href='/development') 开发
                ul.nav.navbar-nav.navbar-right
                    li(data-access-level='{{ accessLevels.anon }}', active-nav)
                        a(data-animation='am-fade-and-slide-top', data-template='/partials/register.html', data-placement='top', bs-modal='modal') 参与内测
                    li(data-access-level='{{ accessLevels.anon }}', active-nav)
                        a -
                    li(data-access-level='{{ accessLevels.anon }}', active-nav)
                        a(data-animation='am-fade-and-slide-top', data-placement='center', data-template='/partials/login.html', bs-modal='modal') 登录 &nbsp &nbsp

                    li.dropdown(data-access-level="{{ accessLevels.loggedin}}", active-nav)
                        a.dropdown-toggle(bs-dropdown="dropdown", template="/partials/navbar/user-dropdown") {{ user.username }}
                            b.caret
