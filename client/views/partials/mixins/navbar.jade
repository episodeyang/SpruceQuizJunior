//- Created by: Ge
//- Date: 10/23/13 6:48 AM

mixin navbar
    nav.navbar-default.navbar-fixed-top(role='navigation', style="background-color: rgba(0,0,0,0);")
        //Brand and toggle get grouped for better mobile display
        .navbar-header
            button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-ex1-collapse')
                span.sr-only Toggle navigation
                span.icon-bar
                span.icon-bar
                span.icon-bar
            a.navbar-brand(href='#')
        //Collect the nav links, forms, and other content for toggling
        .collapse.navbar-collapse.navbar-ex1-collapse
            ul.nav.navbar-nav
                li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                    a(href='/') 游子问中学
                li(data-access-level='{{ accessLevels.loggedin }}', active-nav)
                    a(href='/sections') 课程
                li(data-access-level='{{ accessLevels.superuser }}', active-nav)
                    a(href='/admin') 学生管理
                li(data-access-level='{{ accessLevels.loggedin}}', active-nav).dropdown
                    a.dropdown-toggle 问答
                        span.caret
                    ul.dropdown-menu
                        li(data-access-level="{{accessLevels.superuser}}")
                            a(href='/problems/edit') 编辑问题
                        //-li
                            a(href='/problems') 问题
                            li
                                a(href='/quizzes') 测试
                li(data-access-level='{{ accessLevels.superuser }}', active-nav)
                    a(href='/reports') 成绩和报告
                li(data-access-level='{{ accessLevels.superadmin }}', active-nav)
                    a(href='/superadmin') 后台管理
            ul.nav.navbar-nav.navbar-right
                //li(data-access-level='{{ accessLevels.anon }}', active-nav)
                    a(href='/register') 注册
                li.dropdown(data-access-level="{{ accessLevels.loggedin}}", active-nav)
                    a.dropdown-toggle(data-toggle='dropdown') {{ user.username }}
                        b.caret
                    ul.dropdown-menu
                        li
                            a(href="", data-ng-click="logout()")
                                | 登出

